<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Car</title>
    <script>
        window.onload = function () {
            var x = 0;
            var y = 0;
            var speed = 5;
            var angle = 0;
            var mod = 0;

            var canvas = document.getElementById("canvas");
            var context = canvas.getContext("2d");
            var car = new Image();
            car.src = "car.png";

            window.addEventListener("keydown", keypress_handler, false);
            window.addEventListener("keyup", keypress_handler, false);

            var moveinterval = setInterval(function () {
                draw();
            }, 30);

            function draw() {
                var context = canvas.getContext("2d");
                context.clearRect(0, 0, 800, 800);

                context.fillStyle = "rgb(200, 100, 220)";
                context.fillRect(50, 50, 100, 100);

                x += (speed*mod) * Math.cos(Math.PI/180 * angle);
                y += (speed*mod) * Math.sin(Math.PI/180 * angle);

                context.save();
                context.translate(x, y);
                context.rotate(Math.PI/180 * angle);
                context.drawImage(car, -(car.width/2), -(car.height/2));
                context.restore();
            }

            function keyup_handler(event) {
                if (event.keyCode == 87 || event.keyCode == 83) {
                    mod = 0;
                }
            }

            function keypress_handler(event) {
                if (event.keyCode == 87) {
                    mod = 1;
                } else if (event.keyCode == 83) {
                    mod = -1;
                } else if (event.keyCode == 65) {
                    angle -= 5;
                } else if (event.keyCode == 68) {
                    angle += 5;
                }
            }
        }
    </script>
</head>
<body>
    <canvas id="canvas" height="800" width="800" style="border: 2px solid #333;"></canvas>
</body>
</html>